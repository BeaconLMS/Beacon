@if (CurrentUser is { } currentUser)
{
    @ChildContent.Invoke(currentUser);
}

@code {

    [CascadingParameter] public required Task<AuthenticationState> AuthStateTask { get; set; }
    [Parameter, EditorRequired] public required RenderFragment<UserDto> ChildContent { get; set; }

    private UserDto? CurrentUser { get; set; }

    protected override async Task OnParametersSetAsync()
    {
        var authState = await AuthStateTask;
        CurrentUser = authState.User;
    }
}
