@if (Session is not null)
{
    @ChildContent?.Invoke(Session)
}

@code {
    [CascadingParameter] public required Task<AuthenticationState> AuthStateTask { get; set; }

    [Parameter] public RenderFragment<SessionInfoDto>? ChildContent { get; set; }

    private SessionInfoDto? Session { get; set; }

    protected override async Task OnParametersSetAsync()
    {
        var authState = await AuthStateTask;
        Session = SessionInfoDto.FromClaimsPrincipal(authState.User);
    }
}